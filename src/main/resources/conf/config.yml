#This will publish metrics to one tier.
#Instructions on how to retrieve the Component ID can be found in the Metric Path section of https://docs.appdynamics.com/display/PRO42/Build+a+Monitoring+Extension+Using+Java
#For Controllers 4.2.10+, you can also use your tier name instead of the component ID.
metricPrefix: "Server|Component:<COMPONENT_ID>|Custom Metrics|Spark Monitor|"

#Add your Spark History Servers here. Please refer to the extension docs for Spark history & event logging configuration details.
servers:
   - host: "localhost"
     port: 18080
     name: "Spark Master"


#Generic metric prefix used to show metrics in AppDynamics (not recommended)
#metricPrefix: "Custom Metrics|Spark"

numberOfThreads: 5

## This section can be used to configure metrics published by the extension. You have the ability to add multipliers & modify the metric qualifiers for each metric.
## Valid 'cluster' rollup values: INDIVIDUAL, COLLECTIVE
## Valid 'aggregation' types: AVERAGE, SUM, OBSERVATION
## Valid 'time' rollup types: AVERAGE, SUM, CURRENT
## You can choose to not add any or all of these fields to any metric and the default values for each of the above will be used (INDIVIDUAL, AVERAGE & AVERAGE for cluster, aggregation & time respectively).
metrics:
     jobs:
        - numTasks:
            alias: "numTasks"  #Number of tasks in the application
            multiplier: "1.0"
            cluster: "INDIVIDUAL"
            aggregation: "AVERAGE"
            time: "SUM"
            delta: "false"
        - numCompletedTasks:
            alias: "numCompletedTasks"  #Number of completed tasks in the application
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numSkippedTasks:
            alias: "numSkippedTasks"  #Number of completed tasks in the application"
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numFailedTasks:
            alias: "numFailedTasks"  #Number of completed tasks in the application
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numActiveStages:
            alias: "numActiveStages"  #Number of active stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numCompletedStages:
            alias: "numCompletedStages"  #Number of completed stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numSkippedStages:
            alias: "numSkippedStages"  #Number of completed stages"
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numFailedStages:
            alias: "numFailedStages"  #Number of failed stages"
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""

     stages:
        - numActiveTasks:
            alias: "numActiveTasks"  #Number of active tasks in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numCompleteTasks:
            alias: "numCompleteTasks"  #Number of complete tasks in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numFailedTasks:
            alias: "numCompleteTasks"  #Number of failed tasks in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - executorRunTime:
            alias: "executorRunTime"  #Time spent by executor in the application's stages (ms)
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - inputBytes:
            alias: "inputBytes"  #Input bytes in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - inputRecords:
            alias: "inputRecords"  #Input records in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - outputBytes:
            alias: "outputBytes"  #Output bytes in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - outputRecords:
            alias: "outputRecords"  #Output records in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - shuffleReadBytes:
            alias: "shuffleReadBytes"  #Number of bytes read during a shuffle in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - shuffleReadRecords:
            alias: "shuffleReadRecords"  #Number of records read during a shuffle in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - shuffleWriteBytes:
            alias: "shuffleReadRecords"  #Number of bytes written during a shuffle in an application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - shuffleWriteRecords:
            alias: "shuffleWriteRecords"  #Number of shuffled records in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - memoryBytesSpilled:
            alias: "memoryBytesSpilled"  #Number of bytes spilled to disk in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - diskBytesSpilled:
            alias: "diskBytesSpilled"  #Max size on disk of the spilled bytes in the application's stages
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""


     executors:
        - rddBlocks:
            alias: "rddBlocks"  #Number of persisted RDD blocks in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - memoryUsed:
            alias: "memoryUsed" #Amount of memory used for cached RDDs in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - diskUsed:
            alias: "diskUsed" #Amount of disk space used by persisted RDDs in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - activeTasks:
            alias: "activeTasks" #Number of active tasks in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - failedTasks:
            alias: "failedTasks" #Number of failed tasks in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - completedTasks:
            alias: "completedTasks" #Number of completed tasks in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - totalTasks:
            alias: "totalTasks" #Total number of tasks in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - totalDuration:
            alias: "totalDuration" #Time spent by the application's executors executing tasks (ms)
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - totalInputBytes:
            alias: "totalInputBytes" #Total number of input bytes in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - totalShuffleRead:
            alias: "totalShuffleRead" #Total number of bytes read during a shuffle in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - totalShuffleWrite:
            alias: "totalShuffleWrite"  #Total number of shuffled bytes in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - maxMemory:
            alias: "maxMemory" #Maximum memory available for caching RDD blocks in the application's executors
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""

     rdd:
        - numPartitions:
            alias: "numPartitions" #Number of persisted RDD partitions in the application/second
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - numCachedPartitions:
            alias: "numCachedPartitions" #Number of in-memory cached RDD partitions in the application/second
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - memoryUsed:
            alias: "memoryUsed" #Amount of memory used in the application's persisted RDDs
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
        - diskUsed:
            alias: "diskUsed"  #Amount of disk space used by persisted RDDs in the application
            multiplier: ""
            cluster: ""
            aggregation: ""
            time: ""
